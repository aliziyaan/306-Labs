.ORIG x3000

LD R0, INIT
ADD R6, R0, #0

LD R0, KINT
LD R1, INTK
STR R1, R0, #0

LD R0, KBSR
LD R1, ENAB
STR R1, R0, #0

AGAIN	LD R1, COUNT
LD R0, NEWL
OUT
JSR DELAY
LOOP	LD R0, DOT
OUT
JSR DELAY
LD R0, BLANK
OUT
JSR DELAY
LD R0, BLANK
OUT 
JSR DELAY
ADD R1, R1, #-1
BRz AGAIN
BR LOOP

HALT

INIT	.FILL x3000
KINT 	.FILL x0180
INTK	.FILL X2000
ENAB	.FILL x4000
KBSR	.FILL xFE00
PACHIS	.FILL x2500
BLANK	.FILL x20
NEWL	.FILL x0A
DOT		.FILL x2E
COUNT	.FILL #20

DELAY	LD R2, PACHIS
MARIO	ADD R2, R2,#-1
BRp MARIO
RET


.END
